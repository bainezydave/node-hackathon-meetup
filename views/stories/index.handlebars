<h1>Stories</h1>
<div class="row">
  {{#each stories}}
    <div class="col s12 m6">
      <div class="card center-align">
        <div class="card-image">
          {{#if user}}
          <!-- use editIcon helper instead of actual icon,commented below, to diable if the logged in user is not story user -->
          <!-- triple curly brace is needed as the helper return html tags which needed to be stripped -->
          <!-- ../user refers to global user id : like current user -->
          <!-- user.id in this case since we are in stories loop refers to stories.user.id -->
            {{{editIcon user.id ../user.id id}}}
          {{/if}}
          <!-- <a href= "stories/edit/{{id}}" class="btn-floating halfway-fab waves-effect waves-light red"><i class="fa fa-edit"></i></a> -->
        </div>
        <div class="card-content">
          <h5>{{title}}</h5>
          <!-- truncate function created in helpers, dont use parenthesis and , -->
          <!-- to use more than one function need parenthesis -->
          <p class="story-text">{{{stripTags (truncate body 150)}}}</p>
          <br>
          <div class="chip">
            <img src="{{user.image}}" >
            <a href="/stories/user/{{user.id}}">{{user.firstName}} {{user.lastName}}</a>
          </div>
        </div>
        <div class="card-action center-align">
          <a class="btn grey" href="/stories/show/{{id}}">
              Read More
          </a>
        </div>
      </div>
    </div>
  {{else}}
    <p>No stories found</p>
  {{/each}}
</div>
